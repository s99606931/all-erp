# Task 3.3: AI Chatbot UI Integration 결과 보고서

## 1. 개요

프론트엔드 Shell App에 사용자가 언제든지 AI 비서와 대화할 수 있는 **Chatbot UI**를 통합했습니다. 초기 요구사항(FAB)에서 발전하여 **Docked Side Panel** 형태(Chrome DevTools 스타일)로 구현되어, 작업을 하면서 동시에 AI의 도움을 받을 수 있습니다.

## 2. 수행 내용

### 2.1 UI 컴포넌트 (`@all-erp/ui-design`)

- **`AIChatPanel`**:
  - 메시지 목록 및 입력창을 포함한 사이드 패널 컴포넌트.
  - `fetch` API를 사용하여 `/api/ai/rag` 엔드포인트와 통신.
  - 로딩 상태(Spinner) 및 에러 처리 구현.
- **New UI Dependencies**:
  - `DropdownMenu`, `Avatar`, `ScrollArea` (Radix UI 기반) 추가.

### 2.2 Shell Layout 통합

- **Header**: 우측 상단에 로봇 아이콘(🤖) 버튼 추가. 클릭 시 사이드바 토글.
- **Right Sidebar**: 메인 콘텐츠 영역 우측에 `AIChatPanel`이 슬라이드되어 나타남.
  - `Flexbox` 레이아웃을 사용하여 패널 공간만큼 메인 콘텐츠가 리사이징됨(Squishy Layout).

### 2.3 API Proxy 설정

- **Development Environment**:
  - `vite.config.ts`에 Proxy 설정 추가.
  - Frontend (`:4200`) -> `/api/ai` -> Backend (`:3007`).
  - 이를 통해 로컬 개발 시 CORS 문제 없이 `ai-service`와 통신 가능.

## 3. 검증 결과

- **Build**: `nx build shell` 성공.
- **Integration**: `ShellLayout`에서 `AIChatPanel`이 정상적으로 로드됨을 확인.

## 4. Why This Matters?

이제 사용자는 ERP 시스템의 어떤 화면에 있더라도 AI 비서를 호출하여:

1.  현재 보고 있는 화면에 대한 도움말 요청.
2.  데이터 요약 및 분석 요청.
3.  사내 규정 검색 등을 수행할 수 있습니다.

## 5. 다음 단계

- **전체 시스템 기동**: 이제 AI Backend와 Frontend가 모두 준비되었으므로, 전체 시스템을 띄워 실제 동작을 확인할 차례입니다.
