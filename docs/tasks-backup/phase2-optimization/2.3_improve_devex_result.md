# Result: 개발 생산성 개선 (Improve Developer Experience)

## 1. 개요 (Overview)
**Task**: `docs/tasks/phase2-optimization/2.3_improve_devex.md`
**Status**: ✅ 완료 (Completed)
**Date**: 2025-12-07

개발자의 편의성과 코드 품질 유지를 위해 **NPM Scripts 표준화** 및 **Git Hooks(Husky)** 설정을 완료했습니다. 이제 복잡한 명령어 없이 표준화된 명령어로 프로젝트를 관리할 수 있으며, 커밋 시 자동으로 코드 품질 검사가 수행됩니다.

## 2. 변경 사항 (Changes)

### 2.1 📜 NPM Scripts 표준화
`package.json`에 자주 사용하는 명령어를 단축어로 등록했습니다.

| 명령어 | 실행되는 커맨드 | 설명 |
|---|---|---|
| `pnpm start` | `./erp start` | 서비스를 선택하여 실행 (TUI) |
| `pnpm stop` | `./erp stop` | 실행 중인 서비스 중지 |
| `pnpm dev` | `nx serve` | 단일 서비스 개발 모드 실행 |
| `pnpm build` | `nx build` | 서비스 빌드 |
| `pnpm test` | `nx test` | 테스트 실행 |
| `pnpm db:up` | `docker compose ... postgres` | 개발용 DB 실행 |
| `pnpm lint:fix` | `nx run-many ... --fix` | 전체 프로젝트 린트 자동 수정 |
| `pnpm format` | `nx format:write` | 전체 프로젝트 포맷팅 |

### 2.2 🐶 Git Hooks (Husky & Lint-staged)
커밋(`git commit`)을 할 때마다 변경된 파일(`staged files`)에 대해서만 린트와 포맷팅을 수행하도록 설정했습니다.
- **Pre-commit Hook**: `.husky/pre-commit` -> `npx lint-staged`
- **Lint-staged Config**:
  ```json
  "*.{ts,tsx,js,jsx}": [
    "eslint --fix",
    "prettier --write"
  ]
  ```
- **효과**: 나쁜 코드(Lint Error)가 저장소에 커밋되는 것을 원천적으로 방지합니다.

## 3. 사용 방법 (How to use)

### 3.1 프로젝트 관리
```bash
# 전체 린트 수정
pnpm lint:fix

# DB만 빠르게 실행
pnpm db:up
```

### 3.2 커밋 테스트
코드 수정 후 커밋을 시도하면 자동으로 검사가 실행됩니다.
```bash
git add .
git commit -m "feat: improve devex"
# -> Husky가 실행되며 린트 에러가 있으면 커밋이 중단됩니다.
```
