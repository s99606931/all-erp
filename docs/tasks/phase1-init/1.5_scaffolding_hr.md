# PRD: HR Domain 서비스 스캐폴딩

## 1. 개요 (Overview)
- **Task ID**: 1.5_scaffolding_hr
- **목표**: 인사 관리의 핵심인 `personnel-service`, `payroll-service`, `attendance-service`의 기본 앱을 생성합니다.
- **관련 로드맵**: Phase 1 - 서비스 스캐폴딩

## 2. 상세 요구사항 (Requirements)
- [ ] **NestJS 앱 생성**: 3개의 마이크로서비스 생성
- [ ] **기본 포트 설정**:
    - `personnel-service`: 3011
    - `payroll-service`: 3012
    - `attendance-service`: 3013
- [ ] **공통 설정 적용**: System 서비스와 동일한 Health Check, Swagger 설정 적용

## 3. 기술적 의사결정 (Technical Decisions)

### 3.1 도메인 간 의존성 관리
- **권장사항**: HR 도메인 내의 서비스끼리는 밀접하게 연관되어 있으나(예: 급여 계산 시 근태 정보 필요), 직접적인 DB 조인은 금지합니다. API 호출이나 이벤트를 통해서만 데이터를 참조해야 합니다. 스캐폴딩 단계에서는 이를 위한 **Module 구조**만 잡아둡니다.

## 4. 작업 단위 (Work Breakdown)
1.  Nx CLI로 각 서비스 생성:
    - `pnpm nx g @nx/nest:app --directory=apps/hr/personnel-service --name=personnel-service --no-interactive`
    - `pnpm nx g @nx/nest:app --directory=apps/hr/payroll-service --name=payroll-service --no-interactive`
    - `pnpm nx g @nx/nest:app --directory=apps/hr/attendance-service --name=attendance-service --no-interactive`
2.  각 서비스 설정 (System 서비스와 동일):
    - `main.ts`: Swagger, ValidationPipe, Health Check 설정
    - `app.module.ts`: ConfigModule 설정
    - 포트: 3011 (personnel), 3012 (payroll), 3013 (attendance)
3.  **Docker Compose 통합**:
    - `dev-environment/docker-compose.dev.yml`에 3개 서비스 추가
    - 환경변수 및 볼륨 마운트 설정
4.  **Docker Compose로 실행 및 검증**

> **참고**: [Docker-First Workflow Guide](../../guides/docker-first-workflow.md)

## 5. 승인 기준 (Acceptance Criteria)
- [ ] **Docker Compose로 서비스 시작** 성공
- [ ] **Swagger UI 확인**:
    - `http://localhost:3011/api` (Personnel Service)
    - `http://localhost:3012/api` (Payroll Service)
    - `http://localhost:3013/api` (Attendance Service)
- [ ] **Health Check 확인**: `/api/health` 엔드포인트 정상 응답
