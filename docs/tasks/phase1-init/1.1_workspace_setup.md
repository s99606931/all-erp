# PRD: 프로젝트 초기화 및 Nx 워크스페이스 설정

## 1. 개요 (Overview)
- **Task ID**: 1.1_workspace_setup
- **목표**: MSA 개발을 위한 Nx Monorepo 환경을 구축하고, 백엔드(NestJS)와 프론트엔드(Next.js) 개발 기반을 마련합니다.
- **관련 로드맵**: Phase 1 - 프로젝트 초기화

## 2. 상세 요구사항 (Requirements)
- [ ] **Nx Workspace 생성**: 최신 버전의 Nx를 사용하여 빈 워크스페이스 생성
- [ ] **패키지 매니저 설정**: 빠르고 효율적인 의존성 관리를 위해 `pnpm` 사용 설정
- [ ] **플러그인 설치**:
    - `@nx/nest`: 백엔드 개발용
    - `@nx/next`: 프론트엔드 개발용
    - `@nx/js`: 공통 라이브러리용
- [ ] **기본 설정**:
    - `.editorconfig`, `.prettierrc` 등 코드 포맷터 설정 (기존 `coding_convention.md` 준수)
    - `tsconfig.base.json` 설정 (Path Alias 등)

## 3. 기술적 의사결정 (Technical Decisions)
> 개발 진행 전 다음 항목에 대한 결정이 필요합니다.

### 3.1 패키지 매니저 (Package Manager)
- **선택지 A**: `npm` (Node.js 기본, 호환성 좋음)
- **선택지 B**: `yarn` (빠름, 널리 사용됨)
- **선택지 C**: `pnpm` (디스크 공간 절약, 설치 속도 빠름, 모노레포에 적합)
- **✅ 권장사항**: **`pnpm`**
    - **이유**: 수십 개의 마이크로서비스를 하나의 레포에서 관리할 때 `node_modules` 중복을 방지하고 설치 속도가 가장 빠릅니다.

### 3.2 Nx Preset
- **선택지 A**: `apps` (기본, apps/libs 구조)
- **선택지 B**: `integrated` (설정 파일 통합 관리)
- **✅ 권장사항**: **`apps` (Package-based와 유사한 구조)**
    - **이유**: `apps/` 하위에 서비스별로 폴더를 명확히 분리하고, `libs/`에 공통 코드를 두는 구조가 MSA에 직관적입니다.

## 4. 작업 단위 (Work Breakdown)
1.  `npx create-nx-workspace@latest all-erp --pm=pnpm` 실행 (대화형으로 진행)
    - Preset: `apps` 선택
    - Enable distributed caching: `No` (초기에는 설정 안함, 필요 시 추후 Nx Cloud 도입)
2.  필요한 Nx 플러그인 설치 (`pnpm add -D @nx/nest @nx/next @nx/js`)
3.  루트 설정 파일 (`tsconfig.base.json`, `.prettierrc`, `.editorconfig`) 수정
4.  `nx.json`에서 `targetDefaults` 등 공통 빌드 옵션 설정

## 5. 승인 기준 (Acceptance Criteria)
- [ ] `pnpm install`이 에러 없이 완료되어야 한다.
- [ ] `apps/` 와 `libs/` 폴더가 생성되어야 한다.
- [ ] `nx graph` 명령어로 의존성 그래프가 정상적으로 출력되어야 한다.
