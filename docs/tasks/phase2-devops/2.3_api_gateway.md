# PRD: API Gateway 및 네트워크 설정

## 1. 개요 (Overview)
- **Task ID**: 2.3_api_gateway
- **목표**: 마이크로서비스의 단일 진입점(Entry Point)을 제공하고, 라우팅 및 기본 로드밸런싱을 수행하는 게이트웨이를 구축합니다.
- **관련 로드맵**: Phase 2 - 게이트웨이 및 네트워크

## 2. 상세 요구사항 (Requirements)
- [ ] **라우팅 설정**: URL Path에 따라 적절한 마이크로서비스로 요청 전달
    - `/api/auth/*` -> `auth-service`
    - `/api/hr/*` -> `personnel-service` 등
- [ ] **CORS 설정**: 프론트엔드 도메인에서의 요청 허용

## 3. 기술적 의사결정 (Technical Decisions)

### 3.1 Gateway 솔루션
- **선택지 A**: **Nginx** (Reverse Proxy)
    - 장점: 가볍고 설정이 간단함. 정적 파일 서빙 가능.
    - 단점: 동적 설정 변경이 어려움.
- **선택지 B**: **Kong / APISIX** (API Gateway)
    - 장점: 플러그인(인증, Rate Limiting) 풍부, 동적 설정 가능.
    - 단점: 운영 복잡도 있음.
- **선택지 C**: **Spring Cloud Gateway** (Java 기반)
    - 단점: Node.js 스택과 이질적임.
- **✅ 권장사항**: **`Nginx` (초기) -> `Kong` (고도화)**
    - **이유**: 초기 단계에서는 구조가 단순하므로 Nginx로 빠르게 구성을 잡고, 추후 트래픽 제어나 정교한 인증이 필요할 때 Kong으로 전환합니다.

## 4. 작업 단위 (Work Breakdown)
1.  `deploy/gateway/nginx.conf` 작성 (라우팅 규칙 정의)
2.  `docker-compose.yml`에 Nginx 서비스 추가
3.  로컬 도메인(`api.erp.local` 등) 호스트 파일 설정 가이드 작성

## 5. 승인 기준 (Acceptance Criteria)
- [ ] 게이트웨이 포트(80/443)를 통해 각 마이크로서비스 API를 호출할 수 있어야 한다.
- [ ] CORS 에러 없이 프론트엔드에서 API 호출이 가능해야 한다.
