FROM node:22-slim

# 작업 디렉토리 설정
WORKDIR /app

# pnpm 설치
RUN corepack enable && corepack prepare pnpm@latest --activate

# 의존성 파일 복사
COPY package.json pnpm-lock.yaml* ./

# 의존성 설치
RUN pnpm install --frozen-lockfile

# 소스 코드는 볼륨 마운트로 제공됨 (개발 환경)
# Hot Reload를 위해 watch 모드로 실행

# Vite 개발 서버 기본 포트
EXPOSE 3000

# 개발 서버 실행
CMD ["pnpm", "dev", "--host", "0.0.0.0"]
